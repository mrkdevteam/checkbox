=== Checkbox ===
Contributors: bandido, shtirliz, dpmine
Tags: woocommerce, Checkbox, РРО
Requires at least: 5.2
Tested up to: 6.7
Requires PHP: 7.1
Stable tag: 2.5.4
License: GPLv2
License URI: http://www.gnu.org/licenses/gpl-2.0.html
WooCommerce tested up to: 9.4.0

Плагін інтеграції WooCommerce з Checkbox.ua, сервісом програмної реєстрації розрахункових операцій (пРРО).

== Description ==

Плагін дозволяє створювати чеки з замовлень WooCommerce за допомогою сервісу Checkbox. Після створення чеку, Checkbox відправить його на вказаний в замовлені e-mail. Також ви можете відправляти url чека на номер телефону (смс, Viber, Telegram - для цього потрібні сторонні плагіни та сервіси)

**Функціонал плагіна:**
* Відкриття зміни автоматично згідно правила (але не закриття зміни. Налаштовуйте на стороні кабінета Чекбокс)
* Відкриття/закриття зміни вручну
* Створення чеків автоматично згідно правила
* Створення чеків вручну
* Врахування знижок (стандартні промо-коди. Підтримка різних плагінів знижок не перевірялася)
* Логування подій

**Функціонал доступний у Про-версії:**
* Для двомовних сайтів - використання назви товару з атрибуту (в чеку повинні відорбражатися лише назви товарів українською)
* Використання кількох кодів УКТЗЕД
* Використання кількох кас


Для роботи плагіна необхідно мати зареєстрований акаунт на сервісі [Checkbox](https://my.checkbox.ua/auth/registration?partner_ref=KMdBNlXSMp).


== Інструкція ==

https://youtu.be/bKNy9Hpe2NI

1. Встановіть і активуйте плагін.

2. На сторінці налаштувань плагіна вкажіть:
- логін касира,
- пароль касира (це пароль входу в кабінет Чекбокс),
- прізвище та ім'я касира,
- ліцензійний ключ каси ( приклад: 27e1d40eedc2dc59d5952a ),
- код ЄДРПОУ,
- код податку (літерний символ або числовий).

3. Виберіть спосіб підпису. Доступні два механізми підпису чеків: <br> Checkbox Підпис (потребує встановлення окремоє програми на вам PC i постійного доступу до Інтернет), або Checkbox Cloud, —  хмарний сервіс який доступний в особистому кабінеті Checkbox.

4. В правилах автоматичного створення чеків заповніть всі поля для всіх доступних способів оплати.

5. Натисність "Зберегти".

6. Якщо ви використовуєте автоматичне відкриття зміни, тоді налаштуйте автоматичне закриття зміни в особистому кабінеті Чекбокс.

== Screenshots ==

1. Сторінка налаштувань
2. Віджет відкриття/закриття зміни касира
3. Створення чека вручну на сторінці замовлення
4. Дані про чек на сторінці замовлення. ID чека також записується в order meta fields
5. ID чека також виводиться на сторінці Всі замовлення
6. Логін касира в кабінеті Чекбокс (пароль це ваш пароль до кабінету Чекбкос)
7. Ключ каси в кабінеті Чекбокс
8. Код податку в кабінеті Чекбокс
9. Налаштування автоматичного закриття зміни в кабінеті Чекбокс

== Frequently Asked Questions ==

= Чи підтримуються коди УКТЗЕД? =

Ця функція доступна у платній версії. Напишіть на support@morkva.co.ua

= Чи підійде плагін для двомовних сайтів? =

По замовчуванню, плагін бере назву товару з замовлення. Якщо замовлення зроблено в російській версії - в чек передаватиметься російська назва. У платній версії можна задати атрибут з якого буде формуватися назва товару українською. Напишіть на support@morkva.co.ua

= Як перевірити створення чеків? =

При створенні акаунта в Чекбоксі, вам уже підготують тестового касира та касу. З цими даними можете створити скільки завгодно тестових чеків.

= Зміна відкривається, але не створюється чек для деяких замовлень. Помилка validation error =

У вас або не введений вірно код податку в налаштуваннях плагіна, або в замовленні є товар за 0грн. Ставте безкоштовним товарам символічно 0.01грн або 1грн

== Підтримка ==

Якщо виникла помилка при встановленні або використанні плагіна - пишіть на support@morkva.co.ua
Робочі години з 10:00 до 19:00 ПН-ПТ. Ми відповімо вам протягом доби в робочий час. Всі звернення опрацьовуються по черзі.

== Що нового? ==

= 2.5.4 =
* WP 6.7 - сумісний
* WooCommerce 9.4 - сумісний

= 2.5.3 =
* [hotfix] виправили створення чеку

= 2.5.2 =
* WP 6.6 - сумісний

= 2.5.1 =
* WooCommerce 8.8 - сумісний
* WP 6.5 - сумісний

= 2.5.0 =
* [new] додаємо параметри ЕПЗ до чеку (актуально лише для плагінів Morkva LiqPay i Morkva Plata by mono)

= 2.4.0 =
* [new] змінили назву плагіна
* [new] зробили неактивним використання класичного підпису
* [dev] додали генерацію UUID чека

= 2.3.2 =
* [hotfix] виправили дублювання контенту

= 2.3.1 =
* [fix] виправили сумістність HPOS 

= 2.3.0 =
* [new] додали підтримку High-Performance Order Storage (HPOS)

= 2.2.5 =
* [new] додали вивід запиту в історії замовлення

= 2.2.4 =
* [fixed] виправили помилку налаштувань

= 2.2.3 =
* [fixed] виправили вивід шорткодів у чеку

= 2.2.2 =
* [fixed] прибрали вивід запиту в замовленні 

= 2.2.1 =
* [new] незначні правки в плагіні
* WooCommerce 8.x tested
* WordPress 6.3 tested

= 2.2.0 =
* [new] додали поле label для більш точної назви підтипу оплати (наприклад для типу cashless можна задати більш точне визначення: Картка, Післяплата, тощо.)

= 2.1.3 =
* [new] додали перевірку ціни на нуль

= 2.1.2 =
* [fixed] прибрали виклик помилок api та post_id

= 2.1.1 =
* [fixed] додали перевірку поля правил

= 2.1.0 =
* [new] змінили алгоритм додавання знижки до чеку - тепер знижки додаютья індивідуально для кожної позиції в чеку
* [new] додали можливість зміни назви знижки в налаштуваннях

= 2.0.1 =
* [fixed] виправили помилку зі зміною

= 2.0.0 =
* УВАГА, якщо ви оновлюєте плагін з версії 1.х, перезбережіть налаштування.
* Повністю переробили функціонал та UX/UI плагіна, зробили його стабільним та простим в налаштуванні
* Додали окремий мета-бокс створення чека на сторінку редагування товару
* WooCommerce 7.6 tested
* WordPress 6.2 tested

= 1.2.0 =
* [fixed] видалили крон відкриття зміни
* [fixed] виправили можливість відключення автоматичного відкриття зміни

= 1.1.0 =
* [new] прибрали крон закриття зміни. Налаштовуйте автоматичне закриття зміни на стороні кабінету Чекбокс
* [dev] зміни в архітектурі плагіна
* [dev] перевірили сумісність з WordPress 6.1 WooCommerce 7.3

= 1.0.1 =
* [fixed] виправили алгоритм роботи з цінами товарів у замовленні

= 1.0.0 =
* [fixed] виправили алгоритм роботи зі знижками та купонами

= 0.9.0 =
* [fixed] виправили помилку з автоматичним відкриттям зміни на деяких сайтах
* [dev] перевірили сумістість з WooComerce 7.0

= 0.8.5 =
* перевірено сумісність з WordPress 6.0
* перевірено сумісність WooCommerce 6.7.0
* дрібні допрацювання плагіну

= 0.8.4 =
* видалено freemius

= 0.8.3 =
* перевірено сумісніть з WordPress 5.9
* змінили текстові пояснення в інтерфейсі
* прибрали не обов'язкове поле departament з запиту на створення чеку

= 0.8.2 =
* додано крон-завдання на відкриття зміни о 00:01 (Київ) за умови, якщо функція "автоматичне відкриття зміни" активна
* додано можливість друкування чеку по лінку в таблиці замовлення і в блоці повідомлень на сторінці редагування замовлення
* виправлено незначні баги

= 0.8.1 =
* до замовлення додано кастомне поле receipt_url, в яке буде записуватися лінк на чек після його створення
* вдосконалено обробку помилок і виключень
* виправлено незначні баги

= 0.8.0 =
* розширили правила формування чеків (тепер статус замовлення індивідуальний для кожного способу оплати)
* додали поле “Код податку”
* додали поле “Службова інформація”, значення якого відображатиметься в нижній частині чеку
* додали режим логування
! ПРИ ОНОВЛЕННІ ДО ЦІЄЇ ВЕРСІЇ ПЕРЕЗБЕРЕЖІТЬ НАЛАШТУВАННЯ ПЛАГІНА І ПРОПИШІТЬ КОД ПОДАТКУ ТА СТАТУСИ ЗАМОВЛЕНЬ ВІДПОВІДНО ДО СПОСОБІВ ОПЛАТИ

= 0.7.1 =
* повідомлення з помилкою у разі не створення чеку зроблено більш інформативним
* виправлено незначні баги

= 0.7.0 =
* додано можливість прикріпляти податковий номер до кожного товару з замовлення
* виправлено незначні баги

= 0.6.4 =
* виправлено баг пов'язаний отримання увімкнених платіжних шлюзів

= 0.6.3 =
* виправлено незначні баги
* вдосконалено механізм моніторингу стабільності плагіна

= 0.6.2 =
* додали механізм моніторингу стабільності плагіна
* налаштована сумісність з WooCommerce 5.9.0

= 0.6.1 =
* виправлено незначні баги
* налаштована сумісність з WooCommerce 5.8.0

= 0.6.0 =
* додано можливість вибору статусів замовлення при зміні на які автоматично створюватиметься чек

= 0.5.2 =
* додано підказки до опцій на сторінці налаштувань
* додано можливість ввімкнення тестового режиму
* виправлено незначні баги

= 0.5.1 =
* налаштована сумісність з WordPress 5.8.1 і WooCommerce 5.7.1
* виправлено незначні баги

= 0.5.0 =
* додано опцію "Спосіб підпису"
* додано можливість пропускати створення чека при активній опції "Автоматично створювати чеки при статусі Виконано"
* налаштована сумісність з WordPress 5.8 і WooCommerce 5.5.1
* виправлено незначні баги

= 0.4.1 =
* виправлено критичну помилку
* виправлено незначні баги

= 0.4.0 =
* додано функцію автоматичного відкриття зміни
* налаштована сумісність з WordPress 5.7.2 і WooCommerce 5.3.0
* виправлена функція автоматичного створення чеку при статусі Виконано
* виправлено незначні баги

= 0.3.1 =
* виправлено помилку з e-mail покупця
* ім’я і прізвище касира можна задавати в налаштуваннях плагіна

= 0.2.3 =
* виправлено передаванням кількості товарів

= 0.2.2 =
* налаштована сумісність з WordPress 5.6 і WooCommerce 4.8
* виправлено помилку з кількістю

= 0.2.1 =
* виправлено незначні баги

= 0.1.0 =
* незначні правки коду

= 0.0.1 =
* beta-версія плагіна
